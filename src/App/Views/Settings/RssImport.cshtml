<div class="bf-main">
    <partial name="~/Views/Settings/_Taskbar.cshtml" />
    <div class="bf-body">
        <div class="bf-content bf-content-boxed bf-settings">
            <div class="form-group">
                <label class="form-group-label">Select RSS (.xml) file to import posts from</label>
                <div class="input-group">
                    <input type="text" id="Cover" class="form-control" readonly />
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-secondary btn-upload" onclick="return importClick();"> Select</button>
                    </span>
                    <div class="loading loading-sm ml-3"><div class="loading-dot-1"></div><div class="loading-dot-2"></div><div class="loading-dot-3"></div></div>
                </div>
            </div>
        </div>
    </div>
</div>
<div style="display:none;">
    <form method="post" name="frmImport" id="frmImport" asp-action="RssImport" asp-controller="Settings" enctype="multipart/form-data">
        <input type="file" name="file" id="file" onchange="importSubmit(); return false;" />
        <input type="submit" value="Upload Multiple" />
    </form>
</div>

@section Scripts{
    <script>
        var importClick = function () {
            $('#file').trigger('click');
            return false;
        }
        var importSubmit = function (data) {
            $('.loading').fadeIn('fast');
            var data = new FormData($('#frmImport')[0]);
            DataService.upload('settings/rssimport', data, importCallback, fail);
        }
        var importCallback = function (data) {
            $('.loading').fadeOut('fast');
            toastr.success('Completed');
        }
    </script>
}