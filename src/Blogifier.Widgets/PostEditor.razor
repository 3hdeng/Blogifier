<fieldset>
    <div class="btn-group">
        @if (Post.Id == 0)
        {
            <button type="button" tabindex="3" class="btn btn-sm btn-secondary" @onclick="() => Publish()">@Localizer["publish"]</button>
        }
        else
        {
            if (Post.Published > DateTime.MinValue)
            {
                <button type="button" tabindex="3" class="btn btn-sm btn-secondary" @onclick="() => Save()">@Localizer["save"]</button>
            }
            else
            {
                <button type="button" tabindex="3" class="btn btn-sm btn-secondary" @onclick="() => Publish()">@Localizer["publish"]</button>
            }
        }
        <button type="button" tabindex="4" class="btn btn-sm btn-secondary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
        @if (Post.Id == 0)
        {
            <div class="dropdown-menu dropdown-menu-right">
                <a class="dropdown-item" tabindex="5" href="" @onclick="() => Save()" @onclick:preventDefault>@Localizer["save"]</a>
            </div>
        }
        else
        {
            if (Post.Published > DateTime.MinValue)
            {
                <div class="dropdown-menu dropdown-menu-right">
                    <a class="dropdown-item" tabindex="5" href="" @onclick="() => Unpublish()" @onclick:preventDefault>@Localizer["unpublish"]</a>
                </div>
            }
            else
            {
                <div class="dropdown-menu dropdown-menu-right">
                    <a class="dropdown-item" tabindex="5" href="" @onclick="() => Save()" @onclick:preventDefault>@Localizer["save"]</a>
                </div>
            }
        }
    </div>

    @if (Post.Id > 0)
    {
        <button tabindex="5" class="btn btn-secondary btn-danger" @onclick="(() => Remove(Post.Id))">
            <span class="oi oi-trash"></span>
        </button>
    }
    <div>
        <label>@Localizer["description"]</label>
        <textarea @bind="Post.Description" class="form-control" rows="3" name="description" />
    </div>
    <div>
        <label>@Localizer["categories", true]</label>
        <input @bind="Post.Categories" type="text" name="e-mail" />
    </div>
    @if (Post.Id > 0)
    {
        <div class="input-group">
            <label>@Localizer["cover"]</label>
            <input type="text" class="form-control txt-upload" @bind="Post.Cover" name="cover" id="cover" readonly="" />
            <span class="input-group-btn">
                <button class="btn btn-secondary btn-upload" onclick="return fileManager.uploadClick('@UploadType.PostCover', @Post.Id);" type="button"> Select</button>
            </span>
        </div>
    }
</fieldset>

@if (Post != null)
{
    <div class="tab-content" id="editor-tab">
        <div class="tab-pane fade show active" id="edit" role="tabpanel" aria-labelledby="edit-tab">
            <div class="modal-header">
                <input type="text" tabindex="1" class="editor-title" @bind="Post.Title" name="title" placeholder="@Localizer["post-title"]" autofocus />
            </div>
            <div class="editor-outer">
                <MdEditor Content="@Post.Content" />
            </div>
        </div>
    </div>
}
